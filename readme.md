https://note.youdao.com/share/?id=1c58f5a79b82735ad62ae1b5b2023ec7&type=note#/

游戏试玩：http://aqyh5.diandianhuyu.com:8023/

核心玩法介绍
小鹿射手是一款横屏的半定点射击类游戏。
玩家扮演的角色在升降机上发射弓箭来对搭乘气球上升的狼进行攻击，以阻止狼上升到悬崖顶端后推下巨石。
游戏中可对角色的位置进行上下移动，将狼所搭乘的气球射爆后，狼就会落地摔死。
升降梯不定时刷新骨头，获得后可将其抛出，将抛物线沿途的狼全部击落。
当悬崖顶端狼的数量达到3只时，可将巨石推下，砸落升降机，游戏失败。

基本规则
玩游戏，抽奖励倍数
玩家花ONG获得玩游戏资格，ONG的数量大于0，游戏结束后，根据玩家的得分情况随机抽出奖励倍数。比如玩家花10 ONG玩游戏，最后的抽出的赔率是2.35，则玩家获得23.5 ONG。
游戏持续时间45秒；
花费了ONG，就按照1：2的比例送LUCKY
每日签到送1 LUCKY（需要调用智能合约接口）
不用登录，也可以玩游戏；
奖励倍数取值范围 (0, 5000]

LUCKY代币分配规则
玩游戏即挖矿，表现为玩家花费ONG下注，无论输赢，均根据其花费的ONG，发放LUCKY代币，具体规则为：
每花费1 ONG，可得2 LUCKY，LUCKY代币发放的过程，手续费由用户承担
邀请奖励
玩家A邀请了B，B下注5 ONG，得到 10 LUCKY代币，则奖励A 2 LUCKY，即20%的邀请奖励（由平台增发）

智能合约接口
签到
每个钱包地址UTC+8时区，从00到24点只能签到一次
每次成功签到赠送1 LUCKY
区块链可查钱包地址的签到记录
任何钱包地址都可以调用该接口，不需要限制仅admin账号可调用
查询钱包地址是否可以签到
设置邀请人
不可重复设置邀请人
玩家只能给自己设置邀请人
admin账号可以给任何地址设置邀请人
任何钱包地址都可以调用该接口，不需要限制仅admin账号可调用
支付。对于钱包登录用户，每次玩游戏前必须支付大于0的ONG，游戏结束后，随机生成奖励倍数，奖励倍数x支付金额，就是用户本轮游戏的最终收益。
生成本次游戏的id
获取当前ONG兑换LUCKY的比例
给用户发放LUCKY，数量假设为a
如果该用户有邀请人，则给邀请人发放0.1 a LUCKY
返回游戏id，用于游戏结束后的结算
结算
参数：游戏id，用户得分score
获取当前参数，并生成奖励倍数。具体生成算法参考如下代码，其中参数默认值为zp=0.02，A=0.7，B=30

计算用户收益，并直接打入用户钱包地址，即帮用户完成提现操作，手续费平台出
返回奖励倍数
仅admin账号可调用
设置ONG兑换LUCKY比例
参数：兑换比例。如，参数为0.5，则1 ONG可兑换0.5 LUCKY
设置生成奖励倍数参数
即结算接口中，生成本轮游戏奖励倍数所需的参数：zp，A，B

前端与区块链的交互接口
获取钱包插件的账户地址，请查询该地址的余额
签到
查询钱包地址是否已经签到。如果用户当天已签到，则签到按钮需要置灰
点击开始游戏时，调用区块链支付接口

前端与服务器的交互接口
获取邀请链接
结算
登录

界面修改
1、首页。
游客试玩入口；
只有钱包登录后，顶部的邀请、钱包余额、签到才会显示；
点击“开始游戏”按钮时，需要钱包登录、且按照左侧的ong数量让用户进行支付，支付成功后开始游戏

点击“邀请”按钮，弹窗内容如下

    弹窗文案
邀请好友，可额外获得10% 邀请奖励。如A邀请B，如果B得10 LUCKY，则A获得1 LUCKY
点击“签到”按钮，弹窗（需要设计师设计）内容如下：
签到成功
奖励 1 LUCKY

2、主界面
增加倒计时，从45秒开始；
如果浏览器是PC，需要支持键盘的上下键进行上下移动操作；
游客和钱包登录玩家，游戏主界面一致；
3头狼登顶就能把石头推下来；
去掉画面中的“爱奇艺游戏”及其logo；



3、游戏结束时
钱包登录情况：显示开出的赔率，以及获得的总ONG
游客登录情况（需要设计师设计）：此情况下的弹窗内容为：
错失xxx ONG
绑定钱包赢回来
